<!DOCTYPE html>
<html>
<head>
    <title>Todo List</title>

    <!-- Jquery -->
    <script src="/js/util/jquery-1.12.4.min.js"></script>

    <!-- Vue.js -->
    <script src="/js/util/vue.js"></script>

    <!-- Moment.js -->
    <script type="text/javascript" src="/js/util/moment.js"></script>

    <!-- 합쳐지고 최소화된 최신 CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">

    <!-- 부가적인 테마 -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css">

    <!-- 합쳐지고 최소화된 최신 자바스크립트 -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>

</head>
<body>
    <div class="container">
        <div id="work_app">
            <!-- 입력하는 부분 -->
            <div class="well well-lg newwork_box">
                <div class="input-group">
                    <div class="input-group-btn">
                        <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-expanded="false">Action <span class="caret"></span></button>
                        <ul class="dropdown-menu" role="menu">
                          <li><a href="#">Action</a></li>
                          <li><a href="#">Another action</a></li>
                          <li><a href="#">Something else here</a></li>
                          <li class="divider"></li>
                          <li><a href="#">Separated link</a></li>
                        </ul>
                    </div><!-- /btn-group -->
                    <input type="text" class="form-control" v-model="newWork.workTitle">
                    데드라인 설정하기 <input type="checkbox" v-model="deadlineCheck">
                    <span v-if="deadlineToggle">
                        <input type="date" class="form-control" v-model="newWork.deadline">
                    </span>
                </div><!-- /input-group -->

                <div class="input-group">
                    <textarea class="form-control" v-model="newWork.contents"></textarea>
                </div>

                <a @click="insertWork">등록</a>
            </div>

            <!-- 전체 목록 보여주는 부분 -->
            <div class="worklist_box" v-for="(work, index) in works">
                <div class="well well-lg">
                    <li>\{{work.workTitle}}</li>
                    <li>\{{work.contents}}</li>
                    <li v-if="work.deadline"> ~ \{{work.deadline | moment}}</li>

                    <a @click="modifyToggle(work, index)">수정</a>
                    <a @click="removeWork(work.id)">삭제</a>
                    <a @click="completeWork(work)">완료</a>
                </div>
                <div v-if="modifyIndex == index">
                    <div class="input-group">
                    <div class="input-group-btn">
                        <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-expanded="false">Action <span class="caret"></span></button>
                        <ul class="dropdown-menu" role="menu">
                          <li><a href="#">Action</a></li>
                          <li><a href="#">Another action</a></li>
                          <li><a href="#">Something else here</a></li>
                          <li class="divider"></li>
                          <li><a href="#">Separated link</a></li>
                        </ul>
                    </div><!-- /btn-group -->
                    <input type="text" class="form-control" v-model="modifyWork.workTitle">
                </div><!-- /input-group -->

                <div class="input-group">
                    <textarea class="form-control" v-model="modifyWork.contents"></textarea>
                </div>

                <a @click="updateWork">등록</a>
                </div>
            </div>
        </div>
    </div>

    <script type="text/javascript" src="/js/api/work.js"></script>
    <script type="text/javascript" src="/js/controller/layout.js"></script>
    <script type="text/javascript" src="/js/controller/workController.js"></script>
</body>
</html>